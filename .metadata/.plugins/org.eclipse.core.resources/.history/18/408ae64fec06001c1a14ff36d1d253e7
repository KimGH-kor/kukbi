package ch07;

public class 유리수 {
	int molecular,분모;
	int gcd = 0;
	
	//생성자
	public 유리수() {
		this(1,1);
	}
	public 유리수(int 분모) {
		this(1,분모);
	}
	public 유리수(int 분자, int 분모){
		this.분모 = 분모;
		this.molecular = 분자;
		GCD(분자,분모);
	}
	
	//최대 공약수
	public void GCD(int 분자, int 분모) {
		if(분자 < 분모) {
			for(int i = 1; i <= 분모;i++) {
				if(분자%i == 0 && 분모%i ==0) {
					gcd = i;
				}
			}
		}else {
			for(int i = 1; i <= 분자;i++) {
				if(분자%i == 0 && 분모%i ==0) {
					gcd = i;
				}
			}
		}
		this.molecular /=gcd;
		this.분모 /=gcd;
	}
	
	public static 유리수 더하기(유리수 유, 유리수 리){
		int i = 유.분모;
		유.분모 *= 리.분모;
		유.molecular *= 리.분모;
		리.분모 *= i;
		리.molecular *= i;
		유리수 유리 = new 유리수((유.molecular+리.molecular),유.분모);
		유리.GCD(유리.molecular,유리.분모);
		
		return 유리;
	}
	public static 유리수 빼기(유리수 유, 유리수 리){
		int i = 유.분모;
		유.분모 *= 리.분모;
		유.molecular *= 리.분모;
		리.분모 *= i;
		리.molecular *= i;
		유리수 유리 = new 유리수((유.molecular>리.molecular?유.molecular-리.molecular:리.molecular-유.molecular),유.분모);
		유리.GCD(유리.molecular,유리.분모);
		
		return 유리;
	}
	public static 유리수 곱하기(유리수 유, 유리수 리){
		int i = 유.분모;
		int j = 유.molecular;
		유.분모 *= 리.분모;
		유.molecular *= 리.molecular;
		유리수 유리 = new 유리수(유.molecular,유.분모);
		유리.GCD(유리.molecular,유리.분모);
		
		return 유리;
	}
	public static 유리수 나누기(유리수 유, 유리수 리){
		int i = 유.분모;
		유.분모 *= 리.molecular;
		유.molecular *= 리.분모;
		유리수 유리 = new 유리수(유.molecular,유.분모);
		유리.GCD(유리.molecular,유리.분모);
		
		return 유리;
	}
	
	//출력
	public void showInfo() {
		if(this.분모 >1) {
			System.out.println(molecular+"/"+분모);
		}else {
			System.out.println(molecular);
		}
	}
	
	public static void main(String[] args) {
		유리수 유0 = new 유리수(2,3);
		유리수 유1 = new 유리수(4,3);
		
		유0.showInfo();
		유1.showInfo();
		
		유리수 유3 = 유리수.더하기(유0, 유1);
		유3.showInfo();
		유리수 유4 = 유리수.빼기(유0, 유1);
		유4.showInfo();
		유리수 유5 = 유리수.곱하기(유0, 유1);
		유5.showInfo();
		유리수 유6 = 유리수.나누기(유0, 유1);
		유6.showInfo();




		
	}
}

