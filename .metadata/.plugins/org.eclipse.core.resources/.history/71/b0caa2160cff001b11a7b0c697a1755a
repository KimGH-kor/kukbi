package ch01;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Hotel {
	static int[][] arr = new int[4][4];
	static Scanner sc = new Scanner(System.in);
	public static void main(String[] args) {
		
		int i = 0;
		boolean re = true;
		
		try {
		while(re) {
			System.out.println("1.숙박 2.퇴실 3.숙박현황 4.종료");
			
			i = sc.nextInt();
			
			switch (i) {
			case 1: //숙박
				System.out.println("숙박을 원하는 객식을 입력해 주세요");
				int in = sc.nextInt();
				stay(in);
				break;
				
			case 2: //퇴실
				System.out.println("퇴실을 원하는 객식을 입력해 주세요");
				int out = sc.nextInt();
				live(out);
				break;
				
			case 3: //숙박 현황
				roomInfo();
				break;
				
			case 4: //종료
				re = false;
				break;
			default:
				System.out.println("번호를 다시 눌러주세요");
			}
		}
	}
	
	public static void stay(int in) {//숙박
		try {
		int x = (in%10)-1;//호실
		int y = (in/100)-1;//층수
		
		if(arr[y][x] == 0) {
			arr[y][x] = 1;
			System.out.println(in+"방 예약이 완료되었습니다.");
		}else {
			System.out.println("이미 숙박 중입니다.");
		}
		}catch(Exception e) {
			System.out.println(e);
		}
	}
	
	public static void live(int out) {//퇴실
		try {
		int x1 = (out%10)-1;
		int y1 = (out/100)-1;
		
		if(arr[y1][x1] == 1) {
			arr[y1][x1] = 0;
			System.out.println(out+"방 퇴실이 완료되었습니다.");
		}else {
			System.out.println("이미 빈방입니다.");
		}
		}catch(Exception e) {
			System.out.println(e);
		}
	}
	
	public static void roomInfo() {//현황
		System.out.println("현재 숙박 현황은");
		int j = 401;
		
		while(true) {
			System.out.print(j);
			if(arr[(j/100)-1][(j%10)-1] == 0) {
				System.out.print("(빈방) ");
			}else {
				System.out.print("(사용) ");
			}
			
			if(j == 104) {
				break;
			}
			
			if(j%10 == 4) {
				j -=104;
				System.out.println();
			}
			j++;					
		}
		
		System.out.println("입니다.");
	}
}
